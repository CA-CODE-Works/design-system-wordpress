(()=>{"use strict";var e,t={199:()=>{const e=window.wp.blocks,t=(window.wp.i18n,window.wp.blockEditor),l=window.wp.components,s=window.wp.data,o=window.wp.element,n=JSON.parse('{"UU":"caweb/card-button"}'),r=window.ReactJSXRuntime;(0,e.registerBlockType)(n.UU,{edit:function(e){const[n,i]=(0,o.useState)(!1),a=(0,s.useSelect)((e=>{const t=e("core").getEntityRecords("root","postType",{per_page:-1});return t?.filter((e=>e.visibility.show_in_nav_menus&&e.visibility.show_ui))})),p=(0,s.useSelect)((t=>t("core").getEntityRecords("postType",e.attributes.postType,{per_page:-1})),[e.attributes.postType]),u=(0,t.useBlockProps)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.InspectorControls,{children:(0,r.jsxs)(l.PanelBody,{title:"Destination",children:[(0,r.jsx)(l.ToggleControl,{label:"External link",checked:n,onChange:e=>i(e)}),n&&(0,r.jsx)(l.TextControl,{label:"Destination URL",value:e.attributes.visibleUrl,onChange:t=>(t=>{let l;l=t.startsWith("https://www.")?t.slice(12):t.startsWith("www.")?t.slice(4):t,e.setAttributes({externalUrl:l,visibleUrl:t})})(t)}),!n&&(0,r.jsx)(l.SelectControl,{label:"Type",value:e.attributes.postType,onChange:t=>{e.setAttributes({postType:t})},options:[{label:"Select a post type...",value:""},...(a||[]).map((e=>({label:e.labels.singular_name,value:e.slug})))]}),!!e.attributes.postType&&!n&&(0,r.jsx)(l.SelectControl,{label:`Linked ${e.attributes.postType}`,value:e.attributes.linkedPost,onChange:t=>{e.setAttributes({linkedPost:t?parseInt(t):null})},options:[{label:`Select a ${e.attributes.postType} to link to`,value:""},...(p||[]).map((e=>({label:e.title.rendered,value:e.id})))]})]})}),(0,r.jsx)("div",{...u,children:(0,r.jsx)(t.RichText,{className:"action",placeholder:"Label text",value:e.attributes.labelText,allowedFormats:[],multiline:!1,onSplit:()=>{},onReplace:()=>{},onChange:t=>{e.setAttributes({labelText:t})}})})]})},save:function(e){return(0,r.jsx)(t.InnerBlocks.Content,{})}})}},l={};function s(e){var o=l[e];if(void 0!==o)return o.exports;var n=l[e]={exports:{}};return t[e](n,n.exports,s),n.exports}s.m=t,e=[],s.O=(t,l,o,n)=>{if(!l){var r=1/0;for(u=0;u<e.length;u++){l=e[u][0],o=e[u][1],n=e[u][2];for(var i=!0,a=0;a<l.length;a++)(!1&n||r>=n)&&Object.keys(s.O).every((e=>s.O[e](l[a])))?l.splice(a--,1):(i=!1,n<r&&(r=n));if(i){e.splice(u--,1);var p=o();void 0!==p&&(t=p)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[l,o,n]},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};s.O.j=t=>0===e[t];var t=(t,l)=>{var o,n,r=l[0],i=l[1],a=l[2],p=0;if(r.some((t=>0!==e[t]))){for(o in i)s.o(i,o)&&(s.m[o]=i[o]);if(a)var u=a(s)}for(t&&t(l);p<r.length;p++)n=r[p],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(u)},l=self.webpackChunkcard_button=self.webpackChunkcard_button||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var o=s.O(void 0,[350],(()=>s(199)));o=s.O(o)})();